---
title: Inicio de sesión y cierre de sesión del SDK de ACC AEP
description: Descripción
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign
keywords: 'KCS: cierre de sesión del SDK de ACC AEP'
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Tanay Sharma .
article-created-date: 10/11/2022 10:57:50 AM
article-published-by: Tanay Sharma .
article-published-date: 10/11/2022 11:16:54 AM
version-number: 3
article-number: KA-16023
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=2db7de86-5349-ed11-bba2-0022480868ff
exl-id: 0dd025da-8632-42e2-914e-b2aa72c33536
source-git-commit: 4702b69f883128bf305ec64f012ef01903f3f582
workflow-type: tm+mt
source-wordcount: '293'
ht-degree: 2%

---

# Inicio de sesión y cierre de sesión del SDK de ACC AEP

## Descripción

<b>Entorno</b>
- Campaign Classic
- Campaign



<b>Problema/Síntomas</b>
En general, integramos el *AEP* o *SDK de Neolane* para ejecutar el `setPushIdenfitier` o `registerDevice` para registrar el token en la campaña y reconciliarlo con un destinatario mediante un clientId.
 
Si un usuario solo desea enviar notificaciones push a suscriptores vinculados a un perfil. En ese caso, debería ser fácilmente alcanzable utilizando perfiles como dimensiones de filtrado en sus flujos de trabajo. Pero hay un caso de uso.

Un usuario podría cerrar la sesión y, después, debería dejar de recibir notificaciones. Y más tarde, podrían iniciar sesión con una cuenta diferente en el mismo móvil. Creemos que el `registrationToken` (en Android al menos) es válido desde la instalación de la aplicación.
 
No hemos encontrado ninguna referencia de API en la *SDK de AEP* para eliminar o invalidar la variable `registrationToken`, ¿cómo podemos lograr este caso de uso? No estoy seguro de si podemos emularlo invocando el `setPushIdentifier` o `registerDevice` de nuevo o si esto debe gestionarse con la variable `AuthenticationState` dentro del código mobileApp.
 
¿Cómo se debe hacer?


## Resolución


Este escenario es común en cierta medida. Durante el cierre de sesión, deben enviar la misma API utilizada para registrar el *ID de cliente*, pero vaciándolo, el campo `userKey` estará vacío y se cortará el vínculo con el destinatario. Esto se puede hacer en el inicio de sesión con una `userKey` relleno con una *ID de cliente* enlazado a Destinatario/Perfil. Tras cerrar la sesión, la variable `Userkey` se vaciarán.

La aplicación móvil debe realizar una llamada a ACC al cerrar la sesión del usuario o al iniciarla para actualizar esta información en ACC. Podemos tener un campo booleano personalizado que utilizamos como indicador para identificar si un suscriptor de la aplicación ha iniciado sesión o ha cerrado la sesión.
