---
title: "Fallo en la autenticación LDAP con error de tiempo de espera | AEM Oak"
description: Descripción
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS, ldap, aem, tiempo de espera, inicio de sesión, autenticación"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "4/17/2023 5:57:04 PM"
article-published-by: Nayanika Chakravarty
article-published-date: "4/17/2023 6:22:57 PM"
version-number: 4
article-number: KA-17498
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=420cf63c-49dd-ed11-a7c7-6045bd006149"
source-git-commit: 9312519d714e01cbf8ebc1ea497f9ca9393b1ddc
workflow-type: tm+mt
source-wordcount: '439'
ht-degree: 1%

---

# Fallo en la autenticación LDAP con error de tiempo de espera | AEM Oak

## Descripción {#description}

<b>Entorno</b>
Adobe Experience Manager


<b>Problema</b>
Después de configurar [Autenticación LDAP mediante AEM](https://experienceleague.adobe.com/docs/experience-manager-65/administering/security/ldap-config.html?lang=en), no permite a los usuarios LDAP iniciar sesión. Se muestra el siguiente mensaje de registro:


```
Caused by: org.apache.directory.api.ldap.model.exception.LdapException: TimeOut occurred

at org.apache.directory.ldap.client.api.LdapNetworkConnection.writeRequest(LdapNetworkConnection.java:4106)

at org.apache.directory.ldap.client.api.LdapNetworkConnection.bindAsync(LdapNetworkConnection.java:1290)

at org.apache.directory.ldap.client.api.LdapNetworkConnection.bind(LdapNetworkConnection.java:1188)

at org.apache.directory.ldap.client.api.AbstractLdapConnection.bind(AbstractLdapConnection.java:127)

at org.apache.directory.ldap.client.api.AbstractLdapConnection.bind(AbstractLdapConnection.java:112)

at org.apache.directory.ldap.client.api.DefaultLdapConnectionFactory.bindConnection(DefaultLdapConnectionFactory.java:64)

at org.apache.directory.ldap.client.api.DefaultLdapConnectionFactory.newLdapConnection(DefaultLdapConnectionFactory.java:107)

at org.apache.directory.ldap.client.api.ValidatingPoolableLdapConnectionFactory.makeObject(ValidatingPoolableLdapConnectionFactory.java:133)

at org.apache.directory.ldap.client.api.ValidatingPoolableLdapConnectionFactory.makeObject(ValidatingPoolableLdapConnectionFactory.java:59)

at org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1188)

at org.apache.directory.ldap.client.api.LdapConnectionPool.getConnection(LdapConnectionPool.java:123)

at org.apache.jackrabbit.oak.security.authentication.ldap.impl.LdapIdentityProvider.connect(LdapIdentityProvider.java:771)

... 57 common frames omitted
```



## Resolución {#resolution}


Para solucionar el problema, debe depurar la conexión de AEM al servidor LDAP. A continuación se presentan algunas cosas para comprobar:

1. Compruebe que el servidor LDAP es accesible desde otras máquinas que no sean el servidor AEM utilizando un navegador LDAP como [JXplorer](http://jxplorer.org/). Si no es accesible, puede que esté inactivo o que haya un problema de red o firewall. Póngase en contacto con el equipo de operaciones de red y con el equipo que administra los servidores LDAP para investigar.
2. Si el servidor LDAP es accesible desde otras máquinas, pruebe desde el sistema operativo del servidor AEM. Instale un cliente LDAP en el sistema operativo del servidor AEM e intente acceder al servidor LDAP desde allí. En Linux, puede usar la variable [ldapsearch](https://access.redhat.com/documentation/en-us/red_hat_directory_server/11/html/administration_guide/examples-of-common-ldapsearches) comando. En Windows, use [JXplorer](http://jxplorer.org/).
3. Si el servidor puede acceder al servidor LDAP pero AEM inicio de sesión basado en LDAP está fallando, entonces necesitamos comprobar la variable <b>Proveedor de identidad LDAP</b> configuración. Inicie sesión en la <b>Consola web OSGi</b> (https://)*aem-host:port*/system/console/configMgr) y busque <b>Proveedor de identidad de Apache Jackrabbit Oak LDAP</b>. Algunas cosas que puede probar que podrían resolver el problema:

   - Ajuste la *DN de base de usuario*, *Filtro extra del usuario*, *DN de base de grupo* y *Filtro extra de grupo* para que el filtro de búsqueda solo devuelva a los usuarios y grupos relevantes a AEM.
   - Asegúrese de que la variable *Enlace DN* y *Vincular contraseña* son correctos.
   - Desmarcar *Búsqueda de grupos de administradores en validación* y *Búsqueda de grupos de usuarios en validación.*
   - Aumente el *Tiempo de espera de búsqueda.*

   <b>Captura de pantalla de la configuración del proveedor de identidad LDAP:</b>


   ![rtaimage_3_](https://helpx.adobe.com/content/dam/help/en/experience-manager/kb/LDAP-error/jcr%3acontent/main-pars/image/rtaimage_3_.png "rtaimage_3_")
4. En el caso de la mayoría de los clientes empresariales, LDAP suele estar equilibrado en la carga. También puede enfrentarse a este problema si el equilibrador de carga que se encuentra frente a los servidores LDAP ha bloqueado su IP del servidor AEM por algún motivo. Si surge este problema, pídale al equipo LDAP que resuelva el problema. Como prueba rápida, puede que desee visitar la IP del servidor LDAP directamente evitando el equilibrador de carga LDAP para ver si la autenticación LDAP en AEM es correcta.

<b>Causa</b>
El error de tiempo de espera suele indicar que el servidor LDAP no está disponible AEM debido a un firewall, un problema de red o que está inactivo o no responde.
