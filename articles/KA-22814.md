---
title: "Los certificados SSL se revierten después de cambiar por el autor manualmente"
description: Obtenga información sobre cómo corregir que los certificados SSL se reviertan después de cambiar por el autor manualmente.
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: AEM "KCS, local 6.5.15, Adobe Experience Manager local 6.5.15, certificados SSL, revertir, crear, cambiar, manualmente"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Jim Menn
article-created-date: "9/21/2023 8:48:56 PM"
article-published-by: Jim Menn
article-published-date: "9/21/2023 9:12:30 PM"
version-number: 2
article-number: KA-22814
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=014b9645-c058-ee11-be6f-6045bd006268"
source-git-commit: bcbfa7cff62ed24a5fceaa4bad4f50cc82b12de1
workflow-type: tm+mt
source-wordcount: '363'
ht-degree: 1%

---

# Los certificados SSL se revierten después de cambiar sobre el autor manualmente


Obtenga información sobre cómo corregir que los certificados SSL se reviertan después de cambiar por el autor manualmente.

## Descripción {#description}


<b>Entorno</b>
Adobe Experience Manager AEM () local 6.5.15

<b>Problema</b>

Obtenga información sobre cómo corregir que los certificados SSL se reviertan después de cambiar por el autor manualmente.

AEM Se creó un entorno de trabajo con los dos autores, editores y distribuidores, un autor activo, un autor en espera y los editores y distribuidores están en alta disponibilidad.

El autor secundario no estaba habilitado con SSL antes, por lo que el cliente intentó importar los certificados SSL y cambiar al autor en espera cerrando el principal.

Después de esta operación, el cliente pudo acceder a la secundaria. Los autores fueron cambiados como antes.

Se intentó el mismo procedimiento una vez más, al día siguiente, encendiendo el autor secundario, pero no se pudo acceder a él debido a la falta de disponibilidad de los certificados importados anteriormente.






## Resolución {#resolution}


Error `[` 1`]`  estaba presente en el registro de errores del autor secundario.

Este error suele aparecer cuando la función criptográfica se rompe en la instancia y, en este caso, la clave HMAC debe sincronizarse desde la instancia desde la que se importaron los certificados.

Para sincronizar el HMAC, es necesario realizar los siguientes pasos:

En el autor principal:

1. Vaya a OSGi `>`  Paquetes y confirmar paquete`<` ID`>`  para &quot;com.adobe.granite.crypto.file&quot;
2. Vaya a &quot;/crx-quickstart/launchpad/felix/bundle`<` ID`>` /data&quot;, donde paquete`<` ID`>`  es el que se encuentra en el paso 1.
3. Copie &quot;hmac&quot; y &quot;master&quot; en &quot;/crx-quickstart/launchpad/felix/bundle`<` Id`>` /data&quot;


En el autor secundario:

1. Vaya a OSGi `>`  Paquetes y confirmar paquete`<` ID`>`  para &quot;com.adobe.granite.crypto.file&quot;
2. Realice una copia de seguridad de &quot;/crx-quickstart/launchpad/felix/bundle`<` ID`>` /data&quot;
3. Pegue los dos archivos copiados de author1 en la misma ruta de author2 reemplazando los antiguos
4. AEM Reinicie el paquete com.adobe.granite.crypto de destino o toda la instancia de la.


Después de sincronizar las claves HMAC de los dos autores, los certificados ya no se revertían.

`[` 1`]`




```
03.09.2023 12:30:29.212 *WARN* [ FelixStartLevel]  com.adobe.granite.crypto.config.internal.GraniteCryptoConfigurationPlugin Exception while decrypting the configuration mapcom.adobe.granite.crypto.CryptoException: Cannot convert byte dataat com.adobe.granite.crypto.internal.CryptoSupportImpl.unprotect(CryptoSupportImpl.java:130) [ com.adobe.granite.crypto:3.4.16] at com.adobe.granite.crypto.config.internal.GraniteCryptoConfigurationPlugin.modifyConfiguration(GraniteCryptoConfigurationPlugin.java:57) [ com.adobe.granite.crypto.config:0.0.4] at org.apache.felix.cm.impl.ConfigurationManager.callPlugins(ConfigurationManager.java:912) [ org.apache.felix.configadmin:1.9.12] at org.apache.felix.cm.impl.ConfigurationAdapter.getProcessedProperties(ConfigurationAdapter.java:292) [ org.apache.felix.configadmin:1.9.12] at org.apache.felix.scr.impl.manager.RegionConfigurationSupport.configureComponentHolder(RegionConfigurationSupport.java:228) [ org.apache.felix.scr:2.1.20] at org.apache.felix.scr.impl.BundleComponentActivator.setRegionConfigurationSupport(BundleComponentActivator.java:785) [ org.apache.felix.scr:2.1.20] at org.apache.felix.scr.impl.helper.ConfigAdminTracker$1.addingService(ConfigAdminTracker.java:69) [ org.apache.felix.scr:2.1.20] at org.apache.felix.scr.impl.helper.ConfigAdminTracker$1.addingService(ConfigAdminTracker.java:41) [ org.apache.felix.scr:2.1.20] at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:943)at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:871)at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256)at org.osgi.util.tracker.AbstractTracked.trackInitial(AbstractTracked.java:183)at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:321)at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:264)at org.apache.felix.scr.impl.helper.ConfigAdminTracker.<init>(ConfigAdminTracker.java:86) [ org.apache.felix.scr:2.1.20] at org.apache.felix.scr.impl.BundleComponentActivator.<init>(BundleComponentActivator.java:269) [ org.apache.felix.scr:2.1.20] at org.apache.felix.scr.impl.Activator.loadComponents(Activator.java:551) [ org.apache.felix.scr:2.1.20] at org.apache.felix.scr.impl.Activator.access$200(Activator.java:69) [ org.apache.felix.scr:2.1.20] at org.apache.felix.scr.impl.Activator$ScrExtension.start(Activator.java:424) [ org.apache.felix.scr:2.1.20] at org.apache.felix.scr.impl.AbstractExtender.createExtension(AbstractExtender.java:196) [ org.apache.felix.scr:2.1.20] at org.apache.felix.scr.impl.AbstractExtender.modifiedBundle(AbstractExtender.java:169) [ org.apache.felix.scr:2.1.20] at org.apache.felix.scr.impl.AbstractExtender.modifiedBundle(AbstractExtender.java:49) [ org.apache.felix.scr:2.1.20] at org.osgi.util.tracker.BundleTracker$Tracked.customizerModified(BundleTracker.java:488)at org.osgi.util.tracker.BundleTracker$Tracked.customizerModified(BundleTracker.java:420)at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:232)at org.osgi.util.tracker.BundleTracker$Tracked.bundleChanged(BundleTracker.java:450)at org.apache.felix.framework.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:915)at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:834)at org.apache.felix.framework.EventDispatcher.fireBundleEvent(EventDispatcher.java:516)at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4817)at org.apache.felix.framework.Felix.startBundle(Felix.java:2336)at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1539)at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:308)at java.lang.Thread.run(Thread.java:750)Caused by: com.adobe.granite.crypto.CryptoException: Failed decrypting cipher textat com.adobe.granite.crypto.internal.CryptoSupportImpl.decrypt(CryptoSupportImpl.java:66) [ com.adobe.granite.crypto:3.4.16] at com.adobe.granite.crypto.internal.CryptoSupportImpl.unprotect(CryptoSupportImpl.java:127) [ com.adobe.granite.crypto:3.4.16] ... 33 common frames omittedCaused by: com.rsa.jsafe.JSAFE_PaddingException: Invalid padding.at com.rsa.jsafe.JSAFE_SymmetricCipher.decryptFinal(Unknown Source)at com.adobe.granite.crypto.internal.jsafe.JSafeCryptoSupport.getPlainText(JSafeCryptoSupport.java:267)at com.adobe.granite.crypto.internal.jsafe.JSafeCryptoSupport.getPlainText(JSafeCryptoSupport.java:249)at com.adobe.granite.crypto.internal.CryptoSupportImpl.decrypt(CryptoSupportImpl.java:64) [ com.adobe.granite.crypto:3.4.16] ... 34 common frames omitted
```

