---
title: "Cómo generar un modelo de datos o un diccionario de datos"
description: Descripción
solution: Campaign
product: Campaign
applies-to: "Campaign Classic"
keywords: "KCS, Classic, ACC, Modelo de datos, Diccionario de datos, Cómo hacerlo"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "5/11/2023 8:23:02 PM"
article-published-by: Nayanika Chakravarty
article-published-date: "5/11/2023 9:56:31 PM"
version-number: 7
article-number: KA-17519
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=45c6d39a-39f0-ed11-8849-6045bd006239"
source-git-commit: f4e24bea3ee8838c7e6372cc4ea1147a8a1d03bc
workflow-type: tm+mt
source-wordcount: '631'
ht-degree: 1%

---

# Cómo generar un modelo de datos o un diccionario de datos

## Descripción {#description}


<b>Entorno</b>

Adobe Campaign Classic v7

<b>Problema/Síntomas</b>

Este documento muestra dos formas de generar un modelo de datos o un diccionario de datos de la base de datos de Adobe Campaign.


## Resolución {#resolution}


Adobe Campaign contiene cientos de tablas. Este documento presenta dos formas diferentes de generar documentación de esquema:

1. Al generar un documento de Open Office (legible en Microsoft Word), o
2. Generando una página web de HTML.


<b>Método 1: Creación de un documento de OpenOffice</b>

En el `datakit\nms\fra\package\optional` , hay un paquete llamado `dbbBuilder.xml`. Este archivo de paquete contiene una entidad JavaScript que genera un documento de Open Office que detalla el esquema de la base de datos de la instancia de Adobe Campaign.

A. <u>Creación de un archivo JavaScript</u>



Con la vista Explorador de la consola de Campaign, escriba una utilidad JavaScript simple en Administration Configuration JavaScript codes (Configuración de administración), como en el ejemplo siguiente.

Cambie el `strOutputFile` para agregar el directorio de destino donde desea crear el documento de Open Office. Por ejemplo: `/tmp/database-description.odt`.

Ejemplo de archivo: `cus:build-dbd.js`


```
/* * build-dbd.js/ var 
    strXslt = "nl:dbdToOdt.xsl" 
    var strTemplate = installDirectory( "datakit/nl/dbd-template.odt" ) 
    var strOutputFile = "database-description.odt" 
    var sql = xtk.sqlSchema.create() sql.Generate() 
    var strDbXml = db = sql.toXML().toXMLString() 
    var strOdt = applyXsl(strXslt, strDbXml) 
    strOdt = strOdt.replace(/\?xml .*\?\r?\n/, '\r\n' ) 
    var mbContent = new MemoryBuffer mbContent.fromString(strOdt, "utf-8" ) 
    var zip = new ZipFile(strTemplate) 
    zip.open() zip.setEntry( "content.xml" , mbContent) zip.save(strOutputFile)
```




B. <u>Importar dbdBuilder.xml</u>



La variable `dbdBuilder.xml` se puede importar ejecutando el siguiente comando en el directorio donde se almacena el paquete. Reemplace instance_name por el nombre real de la instancia de Adobe Campaign.

`nlserver package - import :dbdBuilder.xml -instance:instance_name`

Ejemplo de importación de paquetes para Debian


```
neolane@debian: /nl6/datakit/nms/fra/package/optional $ cd 
    /nl6/datakit/nms/fra/package/optionalneolane@debian:/nl6/datakit/nms/fra/package/optional$ 
    nlserverpackage -import:dbdBuilder.xml 
    -instance:10:46:09 
    Application serverfor Adobe Campaign Version 6.1.1(build 8537) of 04/16/201410:46:09 
    Starting 1 connection(s) on pool'default vmcloud'(PostgreSQL, server='localhost', 
    login='user:password')10:46:09 Importing package'/tmp/dbdBuilder.xml'...10:46:11 
    Enumerating thefile entities...10:46:11 
    Writing entitiesin the database...10:46:11 
    Saving entities oftype 'xtk:xslt'...10:46:12 
    Saving entities oftype 'xtk:javascript'...10:46:12 
    Installation of packages successful.
```


Ejemplo de importación de paquetes para Windows


```
C: cd "\Program Files (x86)\Adobe\Adobe Campaign v6\bin" 
    C:\Program Files (x86)\Adobe\Adobe Campaign v6\binnlserver.exe 
    package - import : ..\datakit\nms\fra\package\optional\dbdBuilder.xml 
    -instance: 13:52:57 Application server for Adobe Campaign Version 6.1.1 (build 8622) of 01 /19/2015 13:52:57 
    Starting 1 connection(s) on pool 'default ' (PostgreSQL, server= 'localhost' , login= 'user:password' ) 13:52:57
    Importing package 'C:\Program Files (x86)\Adobe\Adobe Campaign v6\bin\..\datakit\nms\fra\package\optional\dbdBuilder.xml'... 
    13:52:59 Enumerating the file entities... 
    13:52:59 Writing entities in the database... 
    13:52:59 Saving entities of type 'xtk:javascript' ... 
    13:52:59 Installation of packages successful.
```




C. <u>Generar la descripción de la base de datos</u>



Para generar la descripción de la base de datos, puede ejecutar el `cus:build-dbd.js` Entidad JavaScript con el módulo nlserver usando una línea de comandos, como se muestra a continuación:


```
neolane@debian: /tmp $ nlserver javascript -instance: cus:build-dbd.js 05:06:12 
    Application server for Adobe Campaign Version 6.1.1 (build 8537) of 04 /16/2014 
    05:06:12 Starting 1 connection(s) on pool 
    'default vmcloud' (PostgreSQL, server= 'localhost' , login= 'user:vmcloud' ) 
    05:06:12 Executing JavaScript from entity of identifier 'xs:build-dbd.js' ... 
    05:06:12 Generating the database structure... 
    05:06:12 Element '0' unknown (see definition of schema 'Recipient delivery logs (nms:broadLogRcp)'). 
    (iRc=16384) 
    05:06:12 Element '0' unknown (see definition of schema 'Visitor delivery logs (nms:broadLogVisitor)'). 
    (iRc=16384) 05:06:12 Element '0' unknown (see definition of schema 'Recipient delivery logs (nms:broadLogRcp)'). 
    (iRc=16384) 05:06:12 Element '0' unknown (see definition of schema 'Visitor delivery logs (nms:broadLogVisitor)'). 
    (iRc=16384) 05:06:13 Generating the ODT XML... 05:06:14 Saving the zip file ... 
    05:06:14 File saved as 'database-description.odt
```


Se genera un documento de OpenOffice llamado &#39;database-description.odt&#39; en el directorio especificado en `build-dbd.js`. Contiene la descripción de las tablas de Adobe Campaign. Este documento se puede editar con Microsoft Word u OpenOffice y se puede convertir a PDF.

![database-description](https://helpx.adobe.com/content/dam/help/en/campaign/kb/generate-data-model/jcr%3acontent/main-pars/image/database-description.gif "database-description")

Ejemplo de archivo del modelo de datos: Este documento muestra el índice de tablas de base de datos, los campos y claves SQL y la lista de vínculos de esquema.

<b>Método 2: Crear una página web con xsltproc</b>

Este enfoque alternativo se basa en Linux `xsltproc` herramienta de línea de comandos. En esta situación, se exporta el esquema creando un documento XML y, a continuación, se transforma el XML en HTML utilizando un archivo XSLT. El archivo de salida se puede ver en un explorador.

Para este método, necesita:

- Un entorno Linux o Macintosh para ejecutar `xsltproc`, que es una utilidad de línea de comandos estándar de Macintosh Mac OS X.
- Los archivos adjuntos, `database.xsl`y `styles.xml` (consulte attachment.zip).


Nota: Hay un equivalente de Windows, `msxsl.exe`, que pueden funcionar bien en esa plataforma, <b>pero no se ha probado</b>.

Ahora msxsl.exe forma parte de <b>Servicios XML principales de MS (MSXML)</b>.

La variable [Servicios XML principales de MS (MSXML)](https://www.catalog.update.microsoft.com/Search.aspx?q=Microsoft%20Core%20XML%20Services%20%28MSXML%29%204.0) La descarga se puede encontrar en el Catálogo de actualizaciones de Microsoft.

DESCARGAR
[Obtener archivo](https://helpx.adobe.com/content/dam/help/en/campaign/kb/generate-data-model/jcr:content/main-pars/download_123504941/attachments.zip "attachments.zip")
`database.xsl` y `styles.xml`

1. Descargue los dos archivos adjuntos `database.xsl` y `styles.xml` en un directorio de trabajo en Linux o Mac. En la parte superior del XSL hay dos variables que puede ajustar:<br>    `xsl:variable name="unicode"false/xsl:variable`

Los valores admitidos para el motor son: postgresql, mssql y oracle. Establezca la variable de motor con el valor que corresponda a la base de datos de instancias de marketing.   `xsl:variable name="engine"postgresql/xsl:variable`
Los valores admitidos para el motor son: postgresql, mssql y oracle. Establezca la variable de motor con el valor que corresponda a la base de datos de instancias de marketing.
2. Desde la consola de Campaign, vaya a las definiciones del paquete de administración de paquetes de configuración de administración y cree un `package.xml` que contiene los esquemas de datos (`xtk:schema`).
3. Exporte el paquete y luego copie el archivo en su directorio de trabajo de Linux o Mac.
4. Procese el archivo package.xml ejecutando el siguiente comando en el directorio de trabajo usando `XSLT: xsltproc database.xsl package.xml database.html.`


El documento generado no es perfecto:

- Algunas condiciones de unión en los vínculos no se pueden documentar.
- Cuando se hace referencia a una enumeración en un esquema pero se define en otro esquema que no está en el paquete, la enumeración no está documentada.

