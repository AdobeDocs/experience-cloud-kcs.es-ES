---
title: "Recupere datos de la base de datos externa donde los valores exceden los 255 caracteres"
description: Descripción
solution: Campaign
product: Campaign
applies-to: "Campaign Classic"
keywords: "KCS, ACC, Campaign, RDBMS"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Victoria Barnato
article-created-date: "5/12/2023 3:31:31 PM"
article-published-by: Victoria Barnato
article-published-date: "5/12/2023 3:33:21 PM"
version-number: 7
article-number: KA-21880
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=45013b0b-daf0-ed11-8849-6045bd006ce9"
source-git-commit: 2ee4be1d5ca472a7f0161333b4beaa4eb6545baf
workflow-type: tm+mt
source-wordcount: '346'
ht-degree: 1%

---

# Recuperar datos de la base de datos externa donde los valores superan los 255 caracteres

## Descripción {#description}


<b>Entorno</b>
Campaign Classic v8

<b>Problema/Síntomas</b>
Si alguien desea recuperar los datos de una base de datos externa de Google Big Query, pero la tabla contiene una columna de cadena para la que algunos valores superan los 255 caracteres, este artículo puede ayudarles. Para ello, utilizan la actividad Relational Database Management Systems (RDBMS) y de forma predeterminada el tamaño del campo de cadena es de un máximo de 255 caracteres, pero si supera esto causa un error de Lenguaje de consulta estructurado (SQL):

`"PGS-220000 PostgreSQL error: ERROR: value too long for type character varying(255) CONTEXT: COPY wkf124720_17_1, line 1, column scol: "aaaaaaaaaaaaaaa...."`



Cuando intentamos cambiar la longitud del campo directamente en el código XML (lenguaje de marcado extensible) del flujo de trabajo (manualmente o mediante código JS), esta actividad no permite editar el esquema y administrar campos de cadena con longitud buena a 255.



<b>Pasos:</b>

Cree un flujo de trabajo y utilice la carga de datos de actividad (RDBMS) para recuperar de una base de datos externa de Google Big Query valores de una columna de cadena que supere los 255 caracteres.

La actividad RDBMS tiene el tamaño predeterminado del campo de cadena con un máximo de 255 caracteres y bueno que esto causa un error SQL.


## Resolución {#resolution}


De forma predeterminada, la longitud máxima para un campo de cadena en Adobe Campaign es de 255, esto es por diseño del producto: encontrará cuáles son las prácticas recomendadas y más detalles en [Elección de tipos de datos](https://experienceleague.adobe.com/docs/campaign-classic/using/configuring-campaign-classic/data-model/data-model-best-practices.html?lang=en#data-types) en la documentación de Campaign Classic v7. Además, aquí hay un vínculo con opciones útiles para encontrar una solución (si surge un problema en el momento del enriquecimiento): [Adobe Campaign Classic v7 y Campaign v8: Control de la longitud del campo de tabla WKF](https://experienceleaguecommunities.adobe.com/t5/adobe-campaign-classic-questions/controlling-wkf-table-field-length/td-p/355506).

<b>Si el problema surge del primer cuadro RDBMS, puede seguir estos pasos:</b>



1. Agregue un cuadro SQL con este código antes del cuadro RDBMS:

   ```
   CREATE OR REPLACE FUNCTION trg_create_table_func()
   
   RETURNS event_trigger
   
   LANGUAGE plpgsql
   
   AS $$
   
   DECLARE
   
   rec record;
   
   BEGIN
   
   FOR rec IN
   
    SELECT table_name
   
   FROM information_schema.columns
   
   WHERE Lower(table_name) like 'wkf' || `<` %= instance.id %`>`  || '_%' AND Lower(column_name)='sproducturl'
   
   LOOP
   
   EXECUTE format('ALTER TABLE IF EXISTS ONLY %I ALTER COLUMN sProductUrl TYPE VARCHAR(2000);', rec.table_name);
   
   EXECUTE format('ALTER TABLE IF EXISTS ONLY %I ALTER COLUMN sDesignation TYPE VARCHAR(2000);', rec.table_name);
   
   EXECUTE format('ALTER TABLE IF EXISTS ONLY %I ALTER COLUMN sUrlImage158 TYPE VARCHAR(2000);', rec.table_name);
   
   EXECUTE format('ALTER TABLE IF EXISTS ONLY %I ALTER COLUMN sUrlImage358 TYPE VARCHAR(2000);', rec.table_name);
   
   EXECUTE format('ALTER TABLE IF EXISTS ONLY %I ALTER COLUMN sUrlImage528 TYPE VARCHAR(2000);', rec.table_name);
   
   END LOOP;
   
   END
   
   
   
   $$;
   
   
   
   DROP EVENT TRIGGER IF EXISTS trg_create_table;
   
   
   CREATE EVENT TRIGGER trg_create_table ON ddl_command_end
   
   WHEN TAG IN ('CREATE TABLE')
   
   EXECUTE PROCEDURE trg_create_table_func();
   ```






   Esto permite crear un déclencheur en la variable `"create table"` que almacenará en déclencheur una función que permita aumentar la longitud de las columnas deseadas a 2000 para las tablas wkfXXX del flujo de trabajo.
2. Después del cuadro RDBMS, agregue otro cuadro SQL para soltar el déclencheur:

   `DROP EVENT TRIGGER IF EXISTS trg_create_table;`

