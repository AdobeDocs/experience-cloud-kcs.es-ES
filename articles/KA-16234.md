---
title: "No se puede usar/consultar con los nombres de archivo de salida de envío DM"
description: Descripción
solution: Campaign
product: Campaign
applies-to: "Campaign Classic,Campaign,Campaign Standard"
keywords: "KCS - No se puede usar/consultar con los nombres de archivo de salida de envío DM"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Amol Mahajan
article-created-date: "10/12/2022 9:14:46 AM"
article-published-by: Amol Mahajan
article-published-date: "10/13/2022 3:42:40 PM"
version-number: 3
article-number: KA-16234
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=9a86e74b-0e4a-ed11-bba1-000d3a31576b"
source-git-commit: 1b0e1e5ddf87cd488f2d0ee13b0966d477c0a448
workflow-type: tm+mt
source-wordcount: '301'
ht-degree: 4%

---

# No se pueden utilizar/consultar los nombres de archivo de salida de envío DM

## Descripción

<b>Entorno</b>
- Campaign Classic
- Campaign
- Campaign Standard

<b>Problema/Síntomas</b>
Uno de los clientes ha informado del siguiente problema:

Desde el campo mdata, se desea extraer el nombre outputFile (consulte attachment(mData_outputFile.png) para la ubicación, almacenado dentro de outputFile=&quot; &quot;. Queremos saber cuál es la mejor manera de transformar esto *Datos XML* campo de tipo que se debe pasar como campo enriquecido dentro del flujo de trabajo de la campaña. Para que podamos anexar a nuestra tabla de historial de promociones para almacenar todos los nombres de archivos de salida.

Desde entonces, sabemos que los datos son un campo XML y no un campo DB para consultar. Pero, ¿existe algún método para lograr este escenario?


## Resolución


Podemos intentar resolver este problema de dos maneras:

1. Utilice una actividad de extracción de archivos para extraer los datos de envío en *XML* formato. Esto garantizará que la variable `mdata` también se extrae. Después, puede utilizar una actividad de carga de archivo o JavaScript (*Código JS)* actividad para analizar ese archivo y obtener sus datos.
2. Utilice un *Código JS* actividad y `queryDef` para recuperar `mdata` del envío y, a continuación, analice el XML. Almacenar datos en un <b>variable de instancia</b> para luego cargar en transición


El cliente tenía una consulta de seguimiento que era la siguiente:

Estamos intentando utilizar el método de `queryDef` against `mdata`, que pudimos escribir. Para el método de análisis, ¿cuál es el enfoque recomendado?

Respuesta:

Su solicitud será como:

*queryDef operation=&quot;select&quot; schema=&quot;nms:delivery&quot;*

*Seleccione*

*node expr=&quot;@id&quot;/*

*node expr=&quot;output/@fileName&quot; label=&quot;Output file&quot;/*

*/Seleccione*

*sysFilter*

*condición expr=&quot;@isModel = 0&quot;/*

*/sysFilter*

*orderBy*

*node expr=&quot;@lastModified&quot; sortDesc=&quot;true&quot;/*

*/orderBy*

*/queryDef*



Y regresará:

*delivery-collection*

*id de envío=&quot;11878415&quot;*

*output filename=&quot;abc.txt&quot;*

*/output*

*/delivery*

*/delivery-collection*
